<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Planet Spotter — Exoplanet Data</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body class="space-bg">
    <header class="header">
      <div class="logo">
        <div class="planet-icon"></div>
        <h1>Planet <span>Spotter</span></h1>
      </div>
      <nav class="nav-menu">
        <a href="index.html">Upload</a>
        <a href="dashboard.html">Dashboard</a>
        <a href="planet.html">Planets</a>
      </nav>
    </header>

    <main class="planet-container">
      <div class="planet-card">
        <button class="arrow left" onclick="prevPlanet()">❮</button>
        <div class="planet-info">
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/2/2e/Exoplanet_render.jpg"
            alt="Planet"
            class="planet-img"
          />
          <h2 id="planet-name">F3659709-01</h2>

          <table class="data-table">
            <thead>
              <tr>
                <th>Molecule</th>
                <th>PPM</th>
                <th>Percentage by Volume</th>
              </tr>
            </thead>
            <tbody id="molecule-data"></tbody>
          </table>
        </div>
        <button class="arrow right" onclick="nextPlanet()">❯</button>
      </div>
      <div id="flash"></div>
    </main>

    <script>
      const planets = [
        {
          name: "F3659709-01",
          molecules: [
            ["Carbon Dioxide (CO₂)", "789,981.0", "78.9981%"],
            ["Helium (He)", "199,215.0", "19.9215%"],
            ["Argon (Ar)", "7,311.0", "0.7311%"],
            ["Oxygen (O₂)", "2,867.0", "0.2867%"],
            ["Neon (Ne)", "478.0", "0.0478%"],
            ["Other Gases", "148.0", "0.0148%"],
          ],
        },
        {
          name: "X5421872-03",
          molecules: [
            ["Nitrogen (N₂)", "780,000.0", "78.0%"],
            ["Oxygen (O₂)", "209,000.0", "20.9%"],
            ["Argon (Ar)", "9,000.0", "0.9%"],
            ["Carbon Dioxide (CO₂)", "400.0", "0.04%"],
            ["Other Gases", "600.0", "0.06%"],
          ],
        },
      ];

      let current = 0;
      const tableBody = document.getElementById("molecule-data");
      const planetName = document.getElementById("planet-name");

      function renderPlanet(index) {
        const p = planets[index];
        planetName.textContent = p.name;
        tableBody.innerHTML = p.molecules
          .map(
            (m) => `<tr><td>${m[0]}</td><td>${m[1]}</td><td>${m[2]}</td></tr>`
          )
          .join("");
      }

      function nextPlanet() {
        current = (current + 1) % planets.length;
        renderPlanet(current);
      }

      function prevPlanet() {
        current = (current - 1 + planets.length) % planets.length;
        renderPlanet(current);
      }

      renderPlanet(current);

      // Fade-in ao carregar
      document.addEventListener("DOMContentLoaded", () => {
        document.body.classList.add("fade-in");
      });

      // Função de fade-out e redirecionamento
      function fadeOutAndRedirect(href) {
        document.body.classList.remove("fade-in");
        document.body.classList.add("fade-out");

        setTimeout(() => {
          window.location.href = href;
        }, 600);
      }

      // Adiciona evento aos links e botões
      document.querySelectorAll("a, button").forEach((el) => {
        el.addEventListener("click", (e) => {
          const href = el.getAttribute("href");
          if (href && !href.startsWith("#") && !href.startsWith("javascript")) {
            e.preventDefault();
            fadeOutAndRedirect(href);
          }
        });
      });
    </script>
  </body>
</html>
