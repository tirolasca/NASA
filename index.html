<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Planet Spotter â€” Upload Data</title>

    <!-- Fonte e Ã­cones -->
    <link
      href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />

    <link rel="stylesheet" href="style.css" />
  </head>

  <body class="space-bg">
    <header class="header">
      <div class="logo">
        <div class="planet-icon"></div>
        <h1>Planet <span>Spotter</span></h1>
      </div>
      <nav class="nav-menu">
        <a href="index.html">Upload</a>
        <a href="dashboard.html">Dashboard</a>
      </nav>
    </header>

    <main>
      <div class="upload-container">
        <h2>Upload Planet Data</h2>
        <p>
          Attention! Your <strong>.csv</strong> file must follow the same
          variable order as the
          <strong>Kepler Objects of Interest</strong> dataset available on the
          NASA Exoplanet Archive website.
        </p>

        <!-- input invisÃ­vel -->
        <input type="file" id="fileInput" accept=".csv" hidden />

        <button id="uploadBtn" class="upload-btn">
          <i class="fa-solid fa-file-arrow-up icon"></i> Select File
        </button>

        <p id="fileName" class="file-name"></p>

        <button class="save-btn" id="saveBtn">
          <i class="fa-solid fa-floppy-disk icon"></i> Save and Exit
        </button>
      </div>
    </main>

    <script>
      const uploadBtn = document.getElementById("uploadBtn");
      const fileInput = document.getElementById("fileInput");
      const fileName = document.getElementById("fileName");
      const saveBtn = document.getElementById("saveBtn");

      // Abrir seletor de arquivo
      uploadBtn.addEventListener("click", () => fileInput.click());

      // Mostrar nome do arquivo selecionado
      fileInput.addEventListener("change", () => {
        if (fileInput.files.length > 0) {
          const name = fileInput.files[0].name;
          fileName.textContent = "ðŸ“‚ File selected: " + name;
          uploadBtn.innerHTML =
            '<i class="fa-solid fa-check icon"></i> Uploaded';
          uploadBtn.disabled = true;
          uploadBtn.style.background = "#2ecc71";
        }
      });

      // Salvar e sair
      saveBtn.addEventListener("click", () => {
        fadeOutAndRedirect("dashboard.html");
      });

      // Fade-in ao carregar
      document.addEventListener("DOMContentLoaded", () => {
        document.body.classList.add("fade-in");
      });

      // FunÃ§Ã£o de fade-out e redirecionamento
      function fadeOutAndRedirect(href) {
        document.body.classList.remove("fade-in");
        document.body.classList.add("fade-out");
        setTimeout(() => {
          window.location.href = href;
        }, 600);
      }
    </script>
  </body>
</html>
